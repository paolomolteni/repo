<html>
<head>
	<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />

	<title>Gestione alimentazione</title>
	
	<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap/bootstrap-vue.min.css">
	<link rel="stylesheet" href="css/index.css">
	
	<script src="js/vue.min.js"></script>
	<script src="js/vue-router.js"></script>
	<script src="js/bootstrap/bootstrap-vue.min.js"></script>
</head>
<body>


<div id="application">

<div id ="menu">
	<div>
	   	<b-button-group size="lg">
	    	<b-button v-on:click="showPerson()">Utenti</b-button>
	      	<b-button v-on:click="showFoodEaten()">Pasti</b-button>
	      	<b-button v-on:click="showStatus()">Stato</b-button>
	   	</b-button-group>
 	</div>
</div>

<!-- ******************************* PERSON COMPONENT ****************************** -->
<div v-if="isPersonToShow">
  	<span>Nome</span><br/>
	<input v-model="personSelected.name"><br/>
	<span>Cognome</span><br/>
	<input v-model="personSelected.lastName"><br/>
	<button v-on:click="createOrUpdatePerson()">
		<span v-if="personSelected.id == null">Crea persona</span>
		<span v-if="personSelected.id != null">Aggiorna persona</span>
	</button>
  	<button v-on:click="cancellPerson()">Annulla</button>
	<br/><br/>
	
	<!-- Pagination -->  	
   	<b-pagination
      v-model="currentPagePerson"
      :total-rows="rowsPerson"
      :per-page="perPagePerson"
      aria-controls="my-table"></b-pagination>
    <p class="mt-3">Current Page: {{ currentPagePerson }}</p>
  	
  	<!-- Table -->
	<table border="1" class="table_width">
		<tr><th>ID persona</th><th>Nome</th><th>Modifica</th><th>Elimina</th></tr>
		<tr v-for="person in getPersonListToShow">
			<td>{{person.id}}</td><td>{{  person.name + " " + person.lastName }}</td><td v-on:click="doUpdatePerson(person)">M</td><td v-on:click="deletePerson(person)">D</td>
	 	</tr>
	</table>
</div>

<!-- ******************************* FOOD EATEN COMPONENT ****************************** -->
<div v-if="isFoodEatenToShow">
	<span>Persona</span><br/>
	<select v-model="foodEatenSelected.idPerson">
		<option v-for="person in listPerson" v-bind:value="person.id">{{ person.name + " " + person.lastName }}</option>
	</select><br/>
	<span>Pasto</span><br/>
	<input v-model="foodEatenSelected.meal"><br/>
	<span>Data</span><br/>
	<input v-model="foodEatenSelected.date"><br/>
  
	<button v-on:click="createOrUpdateFoodEaten">
		<span v-if="foodEatenSelected.id == null">Inserisci pasto</span>
		<span v-if="foodEatenSelected.id != null">Aggiorna pasto</span>
	</button>
  	<button v-on:click="cancellFoodEaten()">Annulla</button>
  	<br/><br/>
  	
  	<!-- Pagination -->  	
   	<b-pagination
      v-model="currentPageFoodEaten"
      :total-rows="rowsFoodEaten"
      :per-page="perPageFoodEaten"
      aria-controls="my-table"></b-pagination>
    <p class="mt-3">Current Page: {{ currentPageFoodEaten }}</p>
  	
  	<!-- Table -->
	<table border="1" class="table_width">
		<tr><th>ID</th><th>Pasto</th><th>Date</th><th>ID persona</th><th>Modifica</th><th>Elimina</th></tr>
		<tr v-for="foodEaten in getFoodEatenListToShow">
			<td>{{foodEaten.id}}</td><td>{{ foodEaten.meal }}</td><td>{{ foodEaten.date }}</td><td>{{ foodEaten.idPerson }}</td><td v-on:click="doUpdateFoodEaten(foodEaten)">M</td><td v-on:click="deleteFoodEaten(foodEaten)">D</td>
	 	</tr>
	</table>
</div>

<!-- ******************************* PERSON STATUS COMPONENT ****************************** -->
<div v-if="isPersonStatusToShow">
	<span>Persona</span><br/>
	<select v-model="personStatusSelected.idPerson">
 		<option v-for="person in listPerson" v-bind:value="person.id">{{ person.name + " " + person.lastName }}</option>
	</select><br/>
	<span>Descrizione</span><br/>
	<input v-model="personStatusSelected.description"><br/>
	<span>Data</span><br/>
	
	<input v-model="personStatusSelected.date"><br/>
  	
  	<b-form-input type="date" v-model="dateI"></b-form-input>
	<b-form-input type="time" v-model="timeI"></b-form-input>
  	
  
	<button v-on:click="createOrUpdatePersonStatus">
		<span v-if="personStatusSelected.id == null">Inserisci stato</span>
		<span v-if="personStatusSelected.id != null">Aggiorna stato</span>
	</button>
  
  	<button v-on:click="cancellPersonStatus()">Annulla</button>
  	<br/><br/>
  	
  	<!-- Pagination -->  	
   	<b-pagination
      v-model="currentPagePersonStatus"
      :total-rows="rowsPersonStatus"
      :per-page="perPagePersonStatus"
      aria-controls="my-table"></b-pagination>
    <p class="mt-3">Current Page: {{ currentPagePersonStatus }}</p>
  
  	<!-- Table -->
	<table border="1" class="table_width">
		<tr><th>ID</th><th>Descrizione</th><th>Date</th><th>ID persona</th><th>Modifica</th><th>Elimina</th></tr>
		<tr v-for="personStatus in getPersonStatusListToShow">
			<td>{{personStatus.id}}</td><td>{{ personStatus.description }}</td><td>{{ personStatus.date }}</td><td>{{ personStatus.idPerson }}</td><td v-on:click="doUpdatePersonStatus(personStatus)">M</td><td v-on:click="deletePersonStatus(personStatus)">D</td>
	 	</tr>
	</table>
</div>
</div>

<script src="js/index.js"></script>

</body>
</html>